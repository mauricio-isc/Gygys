<div class="notifications-container">
  <div class="page-header">
    <h2>Centro de Notificaciones</h2>
    <div class="header-actions">
      <button class="btn btn-outline-primary" (click)="markAllAsRead()">
        <i class="fas fa-check-double"></i> Marcar todas como leídas
      </button>
    </div>
  </div>

  <!-- Filter Tabs -->
  <div class="filter-tabs mb-4">
    <ul class="nav nav-tabs">
      <li class="nav-item">
        <a class="nav-link" [class.active]="filter === 'all'" (click)="filter = 'all'; onFilterChange()">
          Todas
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link" [class.active]="filter === 'unread'" (click)="filter = 'unread'; onFilterChange()">
          No leídas
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link" [class.active]="filter === 'read'" (click)="filter = 'read'; onFilterChange()">
          Leídas
        </a>
      </li>
    </ul>
  </div>

  <!-- Loading -->
  <div *ngIf="loading" class="text-center py-5">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Cargando...</span>
    </div>
  </div>

  <!-- Notifications List -->
  <div *ngIf="!loading" class="notifications-list">
    <div *ngIf="notifications.length === 0" class="text-center py-5">
      <i class="fas fa-bell-slash fa-3x text-muted mb-3"></i>
      <h4 class="text-muted">No hay notificaciones</h4>
      <p class="text-muted">No tienes notificaciones en este momento</p>
    </div>

    <div *ngFor="let notification of notifications" 
         class="notification-item" 
         [class.unread]="!notification.leida"
         [class.read]="notification.leida">
      
      <div class="notification-content">
        <div class="notification-icon">
          <i [class]="getNotificationIcon(notification.tipoNotificacion)"></i>
        </div>
        
        <div class="notification-body">
          <div class="notification-header">
            <h6>{{ notification.titulo }}</h6>
            <span class="notification-time">{{ getRelativeTime(notification.fechaEnvio) }}</span>
          </div>
          
          <p class="notification-message">{{ notification.mensaje }}</p>
          
          <div class="notification-footer">
            <span class="member-name">{{ notification.nombreMiembro }}</span>
            <button *ngIf="!notification.leida" 
                    class="btn btn-sm btn-link" 
                    (click)="markAsRead(notification)">
              Marcar como leída
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>